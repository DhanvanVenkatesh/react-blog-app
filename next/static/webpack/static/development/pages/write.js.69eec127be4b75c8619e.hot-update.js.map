{"version":3,"file":"static/webpack/static\\development\\pages\\write.js.69eec127be4b75c8619e.hot-update.js","sources":["webpack:///./node_modules/load-script/index.js","webpack:///./node_modules/react-dropbox-chooser/dist/react-dropbox-chooser.js","webpack:///./pages/write.jsx"],"sourcesContent":["\nmodule.exports = function load (src, opts, cb) {\n  var head = document.head || document.getElementsByTagName('head')[0]\n  var script = document.createElement('script')\n\n  if (typeof opts === 'function') {\n    cb = opts\n    opts = {}\n  }\n\n  opts = opts || {}\n  cb = cb || function() {}\n\n  script.type = opts.type || 'text/javascript'\n  script.charset = opts.charset || 'utf8';\n  script.async = 'async' in opts ? !!opts.async : true\n  script.src = src\n\n  if (opts.attrs) {\n    setAttributes(script, opts.attrs)\n  }\n\n  if (opts.text) {\n    script.text = '' + opts.text\n  }\n\n  var onend = 'onload' in script ? stdOnEnd : ieOnEnd\n  onend(script, cb)\n\n  // some good legacy browsers (firefox) fail the 'in' detection above\n  // so as a fallback we always set onload\n  // old IE will ignore this and new IE will set onload\n  if (!script.onload) {\n    stdOnEnd(script, cb);\n  }\n\n  head.appendChild(script)\n}\n\nfunction setAttributes(script, attrs) {\n  for (var attr in attrs) {\n    script.setAttribute(attr, attrs[attr]);\n  }\n}\n\nfunction stdOnEnd (script, cb) {\n  script.onload = function () {\n    this.onerror = this.onload = null\n    cb(null, script)\n  }\n  script.onerror = function () {\n    // this.onload = null here is necessary\n    // because even IE9 works not like others\n    this.onerror = this.onload = null\n    cb(new Error('Failed to load ' + this.src), script)\n  }\n}\n\nfunction ieOnEnd (script, cb) {\n  script.onreadystatechange = function () {\n    if (this.readyState != 'complete' && this.readyState != 'loaded') return\n    this.onreadystatechange = null\n    cb(null, script) // there is no way to catch loading errors in IE8\n  }\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _loadScript = require('load-script');\n\nvar _loadScript2 = _interopRequireDefault(_loadScript);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DROPBOX_SDK_URL = 'https://www.dropbox.com/static/api/2/dropins.js';\nvar SCRIPT_ID = 'dropboxjs';\n\nvar scriptLoadingStarted = false;\n\n// read more\n// https://www.dropbox.com/developers/chooser\n\nvar DropboxChooser = function (_Component) {\n  _inherits(DropboxChooser, _Component);\n\n  function DropboxChooser(props) {\n    _classCallCheck(this, DropboxChooser);\n\n    var _this = _possibleConstructorReturn(this, (DropboxChooser.__proto__ || Object.getPrototypeOf(DropboxChooser)).call(this, props));\n\n    _this.onChoose = _this.onChoose.bind(_this);\n    return _this;\n  }\n\n  _createClass(DropboxChooser, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (!this.isDropboxReady() && !scriptLoadingStarted) {\n        scriptLoadingStarted = true;\n        (0, _loadScript2.default)(DROPBOX_SDK_URL, {\n          attrs: {\n            id: SCRIPT_ID,\n            'data-app-key': this.props.appKey\n          }\n        });\n      }\n    }\n  }, {\n    key: 'isDropboxReady',\n    value: function isDropboxReady() {\n      return !!window.Dropbox;\n    }\n  }, {\n    key: 'onChoose',\n    value: function onChoose() {\n      if (!this.isDropboxReady() || this.props.disabled) {\n        return null;\n      }\n\n      var _props = this.props,\n          success = _props.success,\n          cancel = _props.cancel,\n          linkType = _props.linkType,\n          multiselect = _props.multiselect,\n          extensions = _props.extensions;\n\n\n      window.Dropbox.choose({\n        success: success,\n        cancel: cancel,\n        linkType: linkType,\n        multiselect: multiselect,\n        extensions: extensions\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        { onClick: this.onChoose },\n        this.props.children ? this.props.children : _react2.default.createElement(\n          'button',\n          null,\n          'Open dropbox chooser'\n        )\n      );\n    }\n  }]);\n\n  return DropboxChooser;\n}(_react.Component);\n\nDropboxChooser.propTypes = {\n  children: _propTypes2.default.node,\n  appKey: _propTypes2.default.string.isRequired,\n  success: _propTypes2.default.func.isRequired,\n  cancel: _propTypes2.default.func,\n  linkType: _propTypes2.default.oneOf(['preview', 'direct']),\n  multiselect: _propTypes2.default.bool,\n  extensions: _propTypes2.default.arrayOf(_propTypes2.default.string),\n  disabled: _propTypes2.default.bool\n};\nDropboxChooser.defaultProps = {\n  cancel: function cancel() {},\n  linkType: 'preview',\n  multiselect: false,\n  disabled: false\n};\nexports.default = DropboxChooser;","import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nexport default function Write({user}) {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [text, setText] = useState(\"\");\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    const reqData = {\n      title,\n      description,\n      text: text.replace(/\\n/g, \"<br />\"),\n      user\n    };\n    axios\n      .post(\"/api/create-article\", reqData)\n      .then(res =>  {\n        swal(\"Article Submitted\", \"\", \"success\");\n        location.href=\"/\";\n      })\n      .catch(err => {\n        return swal(\"Sorry\", `Article name not unique`, \"error\");\n      });\n  };\n\n  return (\n    <form onSubmit={e => handleSubmit(e)}>\n      <label htmlFor=\"title\">\n        <h5>Title</h5>\n      </label>\n      <input\n        className=\"browser-default\"\n        style={{\n          height: \"100%\",\n          width: \"100%\",\n          padding: \"10px\",\n          border: \"2px #eee solid\",\n          borderRadius: \"8px\"\n        }}\n        required\n        id=\"title\"\n        type=\"text\"\n        placeholder=\"Give a suitable title ...\"\n        onChange={e=>setTitle(e.target.value.trim())}\n      />\n      <label style={{ marginTop: \"1em\" }} htmlFor=\"description\">\n        <h5>Description</h5>\n      </label>\n      <input\n        className=\"browser-default\"\n        style={{\n          height: \"100%\",\n          width: \"100%\",\n          padding: \"10px\",\n          border: \"2px #eee solid\",\n          borderRadius: \"8px\"\n        }}\n        required\n        id=\"description\"\n        type=\"text\"\n        placeholder=\"Write a suitable description in one or two sentences ...\"\n        onChange={e=>setDescription(e.target.value.trim())}\n      />\n      <label style={{ marginTop: \"1em\" }} htmlFor=\"article\">\n        <h5>Article</h5>\n      </label>\n      <textarea\n        rows=\"10\"\n        className=\"browser-default\"\n        style={{\n          height: \"100%\",\n          width: \"100%\",\n          padding: \"10px\",\n          border: \"2px #eee solid\",\n          borderRadius: \"8px\"\n        }}\n        required\n        id=\"article\"\n        placeholder=\"Write the Article Body ...\"\n        onChange={e=>setText(e.target.value.trim())}\n      />\n       <h1 style={{textAlign:\"center\"}}>Upload Or Choose Files to DropBox</h1>\n      <br/><br/>\n      <div className=\"App\">\n      <h1 style={{textAlign:\"center\"}}>Upload Or Choose Files to DropBox</h1>\n      <br/><br/>\n      <div className=\"container\">\n        <DropboxChooser appKey={APP_KEY}\n                      success={handleSuccess}\n                      cancel={() => console.log('closed')}\n                      multiselect={true}\n                      >\n          <button>Upload or Choose Files</button>\n          <div className=\"dropbox\"></div>\n          <br/><br/>\n          <img src={url} width=\"200\" height=\"200\" alt=\"\"/>\n        </DropboxChooser>\n      </div>\n      </div>\n      \n      <button style={{ marginTop: \"1em\", borderRadius: \"8px\" }} type=\"submit\">\n        Submit\n      </button>\n    </form>\n  );\n}\n\nimport DropboxChooser from 'react-dropbox-chooser'\n"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;AC3HA;AACA;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAbA;AAeA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAbA;AAeA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAbA;AAeA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAHA;AAMA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;;A","sourceRoot":""}