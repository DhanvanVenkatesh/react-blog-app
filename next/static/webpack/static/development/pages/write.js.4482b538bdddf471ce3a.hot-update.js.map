{"version":3,"file":"static/webpack/static\\development\\pages\\write.js.4482b538bdddf471ce3a.hot-update.js","sources":["webpack:///./pages/write.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst APP_KEY=\"77hro5y7r2kdbdc\"\n\nexport default function Write({user}) {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [text, setText] = useState(\"\");\n  \n  const [url,setUrl] = useState(\"\")\n  function handleSuccess(files){\n    setUrl(files[0].thumbnailLink)\n    console.log(url)\n  }\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    const reqData = {\n      title,\n      description,\n      text: text.replace(/\\n/g, \"<br />\"),\n      user\n    };\n    axios\n      .post(\"/api/create-article\", reqData)\n      .then(res =>  {\n        swal(\"Article Submitted\", \"\", \"success\");\n        location.href=\"/\";\n      })\n      .catch(err => {\n        return swal(\"Sorry\", `Article name not unique`, \"error\");\n      });\n  };\n\n  return (\n    <form onSubmit={e => handleSubmit(e)}>\n      <label htmlFor=\"title\">\n        <h5>Title</h5>\n      </label>\n      <input\n        className=\"browser-default\"\n        style={{\n          height: \"100%\",\n          width: \"100%\",\n          padding: \"10px\",\n          border: \"2px #eee solid\",\n          borderRadius: \"8px\"\n        }}\n        required\n        id=\"title\"\n        type=\"text\"\n        placeholder=\"Give a suitable title ...\"\n        onChange={e=>setTitle(e.target.value.trim())}\n      />\n      <label style={{ marginTop: \"1em\" }} htmlFor=\"description\">\n        <h5>Description</h5>\n      </label>\n      <input\n        className=\"browser-default\"\n        style={{\n          height: \"100%\",\n          width: \"100%\",\n          padding: \"10px\",\n          border: \"2px #eee solid\",\n          borderRadius: \"8px\"\n        }}\n        required\n        id=\"description\"\n        type=\"text\"\n        placeholder=\"Write a suitable description in one or two sentences ...\"\n        onChange={e=>setDescription(e.target.value.trim())}\n      />\n      <label style={{ marginTop: \"1em\" }} htmlFor=\"article\">\n        <h5>Article</h5>\n      </label>\n      <textarea\n        rows=\"10\"\n        className=\"browser-default\"\n        style={{\n          height: \"100%\",\n          width: \"100%\",\n          padding: \"10px\",\n          border: \"2px #eee solid\",\n          borderRadius: \"8px\"\n        }}\n        required\n        id=\"article\"\n        placeholder=\"Write the Article Body ...\"\n        onChange={e=>setText(e.target.value.trim())}\n      />\n      <div className=\"App\">\n      <div className=\"container\">\n        <DropboxChooser appKey={APP_KEY}\n                      success={handleSuccess}\n                      cancel={() => console.log('closed')}\n                      multiselect={true}\n                      >\n          <button>Upload or Choose Files</button>\n          <div className=\"dropbox\"></div>\n          <br/><br/>\n          <img src={url} width=\"200\" height=\"200\" alt=\"\"/>\n        </DropboxChooser>\n      </div>\n      </div>\n      \n      <button style={{ marginTop: \"1em\", borderRadius: \"8px\" }} type=\"submit\">\n        Submit\n      </button>\n    </form>\n  );\n}\n\nimport DropboxChooser from 'react-dropbox-chooser'\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAbA;AAeA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAbA;AAeA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAbA;AAeA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAHA;AAMA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;;A","sourceRoot":""}